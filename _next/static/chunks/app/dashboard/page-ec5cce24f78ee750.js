(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{2203:(e,t,r)=>{Promise.resolve().then(r.bind(r,3015))},3015:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>X});var n,a,s=r(5155),i=r(6476),o=r(1764),l=r(8305),c=r.t(l,2),u=r(4476),d=!1,h=c.useSyncExternalStore||function(e,t,r){var n=t();!1===globalThis.__DEV__||d||n===t()||(d=!0,!1!==globalThis.__DEV__&&o.V1.error(68));var a=l.useState({inst:{value:n,getSnapshot:t}}),s=a[0].inst,i=a[1];return u.JR?l.useLayoutEffect(function(){Object.assign(s,{value:n,getSnapshot:t}),b(s)&&i({inst:s})},[e,n,t]):Object.assign(s,{value:n,getSnapshot:t}),l.useEffect(function(){return b(s)&&i({inst:s}),e(function(){b(s)&&i({inst:s})})},[e]),n};function b(e){var t=e.value,r=e.getSnapshot;try{return t!==r()}catch(e){return!0}}var v=r(7142),g=r(1455),f=r(2526),p=r(1716),m=r(8480),x=r(2828),y=r(9783),j=r(1816);function w(e){var t;switch(e){case n.Query:t="Query";break;case n.Mutation:t="Mutation";break;case n.Subscription:t="Subscription"}return t}function k(e){a||(a=new x.A(y.v.parser||1e3));var t,r,s=a.get(e);if(s)return s;(0,o.V1)(!!e&&!!e.kind,70,e);for(var i=[],l=[],c=[],u=[],d=0,h=e.definitions;d<h.length;d++){var b=h[d];if("FragmentDefinition"===b.kind){i.push(b);continue}if("OperationDefinition"===b.kind)switch(b.operation){case"query":l.push(b);break;case"mutation":c.push(b);break;case"subscription":u.push(b)}}(0,o.V1)(!i.length||l.length||c.length||u.length,71),(0,o.V1)(l.length+c.length+u.length<=1,72,e,l.length,u.length,c.length),r=l.length?n.Query:n.Mutation,l.length||c.length||(r=n.Subscription);var v=l.length?l:c.length?c:u;(0,o.V1)(1===v.length,73,e,v.length);var g=v[0];t=g.variableDefinitions||[];var f={name:g.name&&"Name"===g.name.kind?g.name.value:"data",type:r,variables:t};return a.set(e,f),f}function N(e){var t=l.useContext((0,f.l)()),r=e||t.client;return(0,o.V1)(!!r,58),r}!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(n||(n={})),k.resetCache=function(){a=void 0},!1!==globalThis.__DEV__&&(0,j.D_)("parser",function(){return a?a.size:0});var S=r(9598),D=r(5879),C=r(3526),E=Symbol.for("apollo.hook.wrappers"),P=Object.prototype.hasOwnProperty;function _(){}var T=Symbol();function O(e,t){var r,a,s,c,u,d,b,g,p,x,y,j,S,D,C,E,O,G,J,z,$,A,K,X,H=(u=N(t.client),b=!!(d=l.useContext((0,f.l)()).renderPromises),g=u.disableNetworkFetches,p=!1!==t.ssr&&!t.skip,x=t.partialRefetch,void 0===(r=t)&&(r={}),a=r.skip,r.ssr,r.onCompleted,r.onError,s=r.defaultOptions,c=(0,i.Tt)(r,["skip","ssr","onCompleted","onError","defaultOptions"]),y=function(t){var r=Object.assign(c,{query:e});return b&&("network-only"===r.fetchPolicy||"cache-and-network"===r.fetchPolicy)&&(r.fetchPolicy="cache-first"),r.variables||(r.variables={}),a?(r.initialFetchPolicy=r.initialFetchPolicy||r.fetchPolicy||R(s,u.defaultOptions),r.fetchPolicy="standby"):r.fetchPolicy||(r.fetchPolicy=(null==t?void 0:t.options.initialFetchPolicy)||R(s,u.defaultOptions)),r},D=(S=(j=function(e,t,r,a,s){function c(i){var l,c,u,d,h;return l=n.Query,c=k(t),u=w(l),d=w(c.type),(0,o.V1)(c.type===l,74,u,u,d),{client:e,query:t,observable:a&&a.getSSRObservable(s())||e.watchQuery(M(void 0,e,r,s())),resultData:{previousData:null===(h=null==i?void 0:i.resultData.current)||void 0===h?void 0:h.data}}}var u=l.useState(c),d=u[0],h=u[1];function b(e){Object.assign(d.observable,((t={})[T]=e,t));var t,r,n=d.resultData;h((0,i.Cl)((0,i.Cl)({},d),{query:e.query,resultData:Object.assign(n,{previousData:(null===(r=n.current)||void 0===r?void 0:r.data)||n.previousData,current:void 0})}))}if(e!==d.client||t!==d.query){var v=c(d);return h(v),[v,b]}return[d,b]}(u,e,t,d,y))[0]).observable,C=S.resultData,E=j[1],O=y(D),D[T]&&!(0,v.L)(D[T],O)&&(D.reobserve(M(D,u,t,O)),C.previousData=(null===(G=C.current)||void 0===G?void 0:G.data)||C.previousData,C.current=void 0),D[T]=O,J=l.useMemo(function(){return{refetch:D.refetch.bind(D),reobserve:D.reobserve.bind(D),fetchMore:D.fetchMore.bind(D),updateQuery:D.updateQuery.bind(D),startPolling:D.startPolling.bind(D),stopPolling:D.stopPolling.bind(D),subscribeToMore:D.subscribeToMore.bind(D)}},[D]),d&&p&&(d.registerSSRObservable(D),D.getCurrentResult().loading&&d.addObservableQueryPromise(D)),{result:(z={onCompleted:t.onCompleted||_,onError:t.onError||_},$=l.useRef(z),l.useEffect(function(){$.current=z}),A=(b||g)&&!1===t.ssr&&!t.skip?q:t.skip||"standby"===O.fetchPolicy?F:void 0,K=C.previousData,X=l.useMemo(function(){return A&&V(A,K,D,u)},[u,D,A,K]),h(l.useCallback(function(e){if(b)return function(){};var t=function(){var t=C.current,r=D.getCurrentResult();t&&t.loading===r.loading&&t.networkStatus===r.networkStatus&&(0,v.L)(t.data,r.data)||Q(r,C,D,u,x,e,$.current)},r=function(a){if(n.current.unsubscribe(),n.current=D.resubscribeAfterError(t,r),!P.call(a,"graphQLErrors"))throw a;var s=C.current;(!s||s&&s.loading||!(0,v.L)(a,s.error))&&Q({data:s&&s.data,error:a,loading:!1,networkStatus:m.pT.error},C,D,u,x,e,$.current)},n={current:D.subscribe(t,r)};return function(){setTimeout(function(){return n.current.unsubscribe()})}},[g,b,D,C,x,u]),function(){return X||L(C,D,$.current,x,u)},function(){return X||L(C,D,$.current,x,u)})),obsQueryFields:J,observable:D,resultData:C,client:u,onQueryExecuted:E}),I=H.result,W=H.obsQueryFields;return l.useMemo(function(){return(0,i.Cl)((0,i.Cl)({},I),W)},[I,W])}function M(e,t,r,n){var a=[],s=t.defaultOptions.watchQuery;return s&&a.push(s),r.defaultOptions&&a.push(r.defaultOptions),a.push((0,S.o)(e&&e.options,n)),a.reduce(g.l)}function Q(e,t,r,n,a,s,l){var c=t.current;c&&c.data&&(t.previousData=c.data),!e.error&&(0,D.E)(e.errors)&&(e.error=new p.K4({graphQLErrors:e.errors})),t.current=V(e.partial&&a&&!e.loading&&(!e.data||0===Object.keys(e.data).length)&&"cache-only"!==r.options.fetchPolicy?(r.refetch(),(0,i.Cl)((0,i.Cl)({},e),{loading:!0,networkStatus:m.pT.refetch})):e,t.previousData,r,n),s(),function(e,t,r){if(!e.loading){var n=(0,D.E)(e.errors)?new p.K4({graphQLErrors:e.errors}):e.error;Promise.resolve().then(function(){n?r.onError(n):e.data&&t!==e.networkStatus&&e.networkStatus===m.pT.ready&&r.onCompleted(e.data)}).catch(function(e){!1!==globalThis.__DEV__&&o.V1.warn(e)})}}(e,null==c?void 0:c.networkStatus,l)}function L(e,t,r,n,a){return e.current||Q(t.getCurrentResult(),e,t,a,n,function(){},r),e.current}function R(e,t){var r;return(null==e?void 0:e.fetchPolicy)||(null===(r=null==t?void 0:t.watchQuery)||void 0===r?void 0:r.fetchPolicy)||"cache-first"}function V(e,t,r,n){var a=e.data,s=(e.partial,(0,i.Tt)(e,["data","partial"]));return(0,i.Cl)((0,i.Cl)({data:a},s),{client:n,observable:r,variables:r.variables,called:e!==q&&e!==F,previousData:t})}var q=(0,C.G)({loading:!0,data:void 0,error:void 0,networkStatus:m.pT.loading}),F=(0,C.G)({loading:!1,data:void 0,error:void 0,networkStatus:m.pT.ready}),G=r(2115),J=r(1889);let z=e=>{let{teacher:t,onClose:r}=e;return(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg w-full max-w-lg shadow-lg",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-gray-800",children:t.name}),(0,s.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,s.jsx)("strong",{children:"Experience:"})," ",t.experience," years"]}),(0,s.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,s.jsx)("strong",{children:"Total Minutes Taught:"})," ",t.totalMinutesTaught.toLocaleString()," minutes"]}),t.joinedDate&&(0,s.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,s.jsx)("strong",{children:"Joined Date:"})," ",new Date(t.joinedDate).toLocaleDateString()]}),t.subjects&&t.subjects.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("strong",{className:"text-gray-700",children:"Subjects:"}),(0,s.jsx)("ul",{className:"list-disc list-inside mt-2",children:t.subjects.map(e=>(0,s.jsxs)("li",{className:"text-gray-600",children:[e.name," (",e.level,")"]},e.id))})]}),t.ratings&&(0,s.jsxs)("p",{className:"text-gray-600 mb-4",children:[(0,s.jsx)("strong",{children:"Ratings:"})," ",t.ratings.average," (based on ",t.ratings.count," reviews)"]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{onClick:r,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Close"})})]})})},$=e=>{let{name:t,experience:r,totalMinutesTaught:n,onClick:a,onConnect:i}=e;return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg cursor-pointer",onClick:a,children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4",children:t}),(0,s.jsxs)("p",{className:"text-gray-700",children:["Experience: ",r," years"]}),(0,s.jsxs)("p",{className:"text-gray-700",children:["Total Minutes Taught: ",n]}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),i()},className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded",children:"Connect"})]})};var A=r(9733);let K={basePath:"/quick-learning-app"};function X(){var e,t,r,n,a,i;let[o,l]=(0,G.useState)(150),[c,u]=(0,G.useState)(!1),[d,h]=(0,G.useState)(null),b=(0,G.useRef)(!1),v=(0,G.useRef)(0),g=(0,G.useRef)(0),{data:f,loading:p,error:m}=(t=A.l,void 0===r&&(r=Object.create(null)),((i=(a=(n=N(r&&r.client).queryManager)&&n[E])&&a.useQuery)?i(O):O)(t,r)),x=e=>{if(!b.current)return;let t=e.clientX-v.current,r=g.current+t;r<100?(u(!0),r=0):u(!1),l(r)},y=()=>{b.current&&(b.current=!1,document.body.style.userSelect="auto")};G.useEffect(()=>(document.addEventListener("mousemove",x),document.addEventListener("mouseup",y),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",y)}),[]);let j=e=>{h(e)},w=()=>{window.open("".concat(K.basePath+"/video-call"),"_blank")};return(0,s.jsxs)("div",{className:"flex h-screen",children:[!c&&(0,s.jsxs)("div",{className:"bg-gray-800 text-white p-4",style:{width:"".concat(o,"px")},children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),(0,s.jsxs)("ul",{className:"space-y-4",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",className:"block text-gray-300 hover:text-white",children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",className:"block text-gray-300 hover:text-white",children:"Profile"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",className:"block text-gray-300 hover:text-white",children:"Settings"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",className:"block text-gray-300 hover:text-white",children:"Logout"})})]})]}),!c&&(0,s.jsx)("div",{className:"cursor-ew-resize bg-gray-600 w-2 h-full",onMouseDown:e=>{b.current=!0,v.current=e.clientX,g.current=o,document.body.style.userSelect="none"}}),(0,s.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto",children:[(0,s.jsx)("button",{onClick:()=>{c&&l(150),u(!c)},className:"bg-blue-500 text-white px-4 py-2 rounded mb-4",children:c?(0,s.jsx)(J.aZv,{}):(0,s.jsx)(J.uos,{})}),(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Welcome to your Dashboard"}),(0,s.jsx)("h3",{className:"text-2xl font-semibold mt-6 mb-4",children:"Teachers"}),p?(0,s.jsx)("p",{children:"Loading teachers..."}):m?(0,s.jsxs)("p",{className:"text-red-500",children:["Error: ",m.message]}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mt-6",children:null==f?void 0:null===(e=f.teachers)||void 0===e?void 0:e.map(e=>(0,s.jsx)($,{id:e.id,name:e.name,experience:e.experience,totalMinutesTaught:e.totalMinutesTaught,onClick:()=>j(e),onConnect:()=>w()},e.id))})]}),d&&(0,s.jsx)(z,{teacher:d,onClose:()=>{h(null)}})]})}},9733:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,l:()=>o});var n=r(698),a=r(8247);function s(){let e=(0,n._)(["\n  query GetTeachers {\n    teachers {\n      id\n      name\n      experience\n      totalMinutesTaught\n      subjects {\n        id\n        name\n        level\n      }\n      ratings {\n        average\n        count\n      }\n      joinedDate\n    }\n  }\n"]);return s=function(){return e},e}function i(){let e=(0,n._)(["\n  query GetTeacherDetails($id: ID!) {\n    teacherDetails(id: $id) {\n      id\n      name\n      experience\n      subjects\n      ratings\n      joinedDate\n    }\n  }\n"]);return i=function(){return e},e}let o=(0,a.J1)(s()),l=(0,a.J1)(i())}},e=>{var t=t=>e(e.s=t);e.O(0,[897,671,441,517,358],()=>t(2203)),_N_E=e.O()}]);